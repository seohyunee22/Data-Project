<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>ê¸°ì—… ì„±ê³µí™•ë¥  ë¶„ì„ í˜ì´ì§€</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f9f9f9;
            color: #333;
        }

        .intro-section {
            background-color: #ffebf0;
            padding: 40px 0;
            border-bottom: 5px solid #f0c5d6;
        }

        .intro-section h1 {
            font-size: 2.5rem;
            font-weight: 600;
        }

        .intro-section p {
            font-size: 1.2rem;
            color: #e68a8a;
        }

        .nav-tabs .nav-link {
            background-color: #ffb8d5;
            color: #fff;
            border-radius: 20px;
            font-weight: 600;
        }

        .nav-tabs .nav-link.active {
            background-color: #ff64a1;
        }

        .container {
            margin-top: 40px;
        }

        .form-group label {
            font-size: 1rem;
            color: #555;
        }

        .form-control {
            border-radius: 10px;
            border: 2px solid #e68a8a;
        }

        .btn {
            border-radius: 25px;
            font-weight: bold;
            padding: 12px 20px;
        }

        .btn-success {
            background-color: #ff9c9c;
            border: none;
        }

        .btn-success:hover {
            background-color: #ff7a7a;
        }

        .btn-primary {
            background-color: #ff64a1;
            border: none;
        }

        .btn-primary:hover {
            background-color: #ff467d;
        }

        #imageContainer img {
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .alert {
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 10px;
        }

        .alert-success {
            background-color: #d4edda;
            color: #155724;
        }

        .alert-danger {
            background-color: #f8d7da;
            color: #721c24;
        }
    </style>
</head>

<body>

<!-- Intro Section -->
<!-- <section class="intro-section text-center">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1 class="display-6">ê¸°ì—… ì„±ê³µí™•ë¥  ë¶„ì„ í˜ì´ì§€</h1>
                <p class="lead"> <a href="https://github.com/seohyunee22/AI-Project" style="color: #ff64a1;">github.com/seohyunee22</a></p>
            </div>
        </div>
    </div>
</section> -->
<section class="intro-section text-center">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1 class="display-6">ê¸°ì—… ì„±ê³µí™•ë¥  ë¶„ì„ í˜ì´ì§€</h1>
          <p class="lead">
            <!-- <a href="https://github.com/seohyunee22/AI-Project" style="color: #ff64a1;">github.com/seohyunee22</a> -->
          </p>
          <p style="font-size: 1rem; color: #888; max-width: 700px; margin: 0 auto;">
            ì´ í˜ì´ì§€ëŠ” ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ ì˜ˆì¸¡ ëª¨ë¸ì„ í™œìš©í•˜ì—¬ ìŠ¤íƒ€íŠ¸ì—…ì˜ ì„±ê³µ ê°€ëŠ¥ì„±ì„ ë¶„ì„í•©ë‹ˆë‹¤.  
            <br>
            <br>
            ì°½ì—… ì—°ë„, ì‚°ì—… ë¶„ì•¼, íˆ¬ì ë‹¨ê³„, ë§¤ì¶œ ë“± ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´  
            <br>
            í•´ë‹¹ ê¸°ì—…ì˜ ì„±ê³µ í™•ë¥ ì„ ë¹ ë¥´ê³  ì§ê´€ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”!
          </p>
          <p style="font-size: 0.95rem; color: #aaa; max-width: 700px; margin: 10px auto 0;">
            ë°ì´í„°ëŠ” ì—°êµ¬ ëª©ì ì„ ìœ„í•œ ì˜ˆì‹œì´ë©°, ì‹¤ì œ íˆ¬ìë‚˜ íŒë‹¨ì—ëŠ” ì°¸ê³ ìš©ìœ¼ë¡œë§Œ í™œìš©í•´ì£¼ì„¸ìš” ğŸ’¡
          </p>
        </div>
      </div>
    </div>
  </section>

<!-- íƒ­ ë©”ë‰´ ì¶”ê°€ -->
<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
        <a class="nav-link active" id="new-tab" data-toggle="tab" href="#new" role="tab" aria-controls="new" aria-selected="true">ì˜ˆì¸¡#1</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link" id="analysis-tab" data-toggle="tab" href="#analysis" role="tab" aria-controls="analysis" aria-selected="false">ì˜ˆì¸¡#2</a>
    </li>
</ul>

<!-- íƒ­ ë‚´ìš© ì¶”ê°€ -->
<div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="new" role="tabpanel" aria-labelledby="new-tab">
        <div class="container mt-5">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <h1 class="mb-3 text-center" style="font-size: 30px;">ì˜ˆì¸¡ í˜ì´ì§€</h1>
                    <div id="imageContainer" style="background-color: #fff0f5; border-radius: 20px; padding: 20px; box-shadow: 0 4px 10px rgba(255, 105, 180, 0.2); text-align: center; margin-bottom: 20px;">
                        <label style="font-size: 1.1rem; color: #e75480; font-weight: 600;">
                          âœ¨ ê¸°ì—… ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´ AIê°€ ì„±ê³µ í™•ë¥ ì„ ì˜ˆì¸¡í•´ë“œë¦½ë‹ˆë‹¤! âœ¨
                        </label>
                        <br><br>
                        <!-- í–¥í›„ ì´ë¯¸ì§€ ì‚¬ìš© ì‹œ ì£¼ì„ í•´ì œ -->
                        <!-- <img src="/images/success_logo.png" alt="slab_predict.png" class="img-fluid" style="max-width: 300px; margin-top: 10px;"> -->
                      </div>
                      
                    <!-- <div id="imageContainer">
                        <label> { Features } ê°’ ì…ë ¥ ì‹œ { Label (ì„±ê³µí™•ë¥ ) }ê°’ì„ ì˜ˆì¸¡í•©ë‹ˆë‹¤.</label>
                        <br></br>

                        <img src="/images/success_logo.png" alt="slab_predict.png" class="img-fluid">
                    </div> -->
                    <form>
                        <div class="form-group">
                            <label for="foundedYear">ì„¤ë¦½ì—°ì—°ë„</label>
                            <input type="number" class="form-control" id="foundedYear" placeholder="ì„¤ë¦½ë…„ë„ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                        </div>

                        <div class="form-group">
                            <label for="country">êµ­ê°€</label>
                            <select class="form-control" id="country">
                                <option value="CT001">CT001</option>
                                <option value="CT002">CT002</option>
                                <option value="CT003">CT003</option>
                                <option value="CT004">CT004</option>
                                <option value="CT005">CT005</option>
                                <option value="CT006">CT006</option>
                                <option value="CT007">CT007</option>
                                <option value="CT008">CT008</option>
                                <option value="CT009">CT009</option>
                                <option value="CT010">CT010</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="industry">ì‚°ì—…</label>
                            <select class="form-control" id="industry">
                                <option value="AI">AI</option>
                                <option value="ê²Œì„">ê²Œì„</option>
                                <option value="ê¸°ìˆ ">ê¸°ìˆ </option>
                                <option value="ë¬¼ë¥˜">ë¬¼ë¥˜</option>
                                <option value="ì—ë„ˆì§€">ì—ë„ˆì§€</option>
                                <option value="ì—ë“€í…Œí¬">ì—ë“€í…Œí¬</option>
                                <option value="ì´ì»¤ë¨¸ìŠ¤">ì´ì»¤ë¨¸ìŠ¤</option>
                                <option value="í•€í…Œí¬">í•€í…Œí¬</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="investmentStage">íˆ¬ì ë‹¨ê³„</label>
                            <select class="form-control" id="investmentStage">
                                <option value="Seed">Seed</option>
                                <option value="Series A">Series A</option>
                                <option value="Series B">Series B</option>
                                <option value="Series C">Series C</option>
                                <option value="IPO">IPO</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="employees">ì§ì› ìˆ˜</label>
                            <input type="number" class="form-control" id="employees" placeholder="ì§ì› ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                        </div>

                        <div class="form-group">
                            <label for="acquiredStatus">ì¸ìˆ˜ ì—¬ë¶€</label>
                            <select class="form-control" id="acquiredStatus">
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="ipoStatus">ìƒì¥ ì—¬ë¶€</label>
                            <select class="form-control" id="ipoStatus">
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="customers">ê³ ê° ìˆ˜ (ë‹¨ìœ„: ë°±ë§Œëª…)</label>
                            <input type="number" class="form-control" id="customers" placeholder="ê³ ê° ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                        </div>

                        <div class="form-group">
                            <label for="totalInvestment">ì´ íˆ¬ìê¸ˆ (ë‹¨ìœ„: ì–µì›)</label>
                            <input type="number" class="form-control" id="totalInvestment" placeholder="ì´ íˆ¬ìê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>

                        <div class="form-group">
                            <label for="annualRevenue">ì—°ê°„ ë§¤ì¶œ (ë‹¨ìœ„: ì–µì›)</label>
                            <input type="number" class="form-control" id="annualRevenue" placeholder="ì—°ê°„ ë§¤ì¶œì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>

                        <div class="form-group">
                            <label for="snsFollowers">SNS íŒ”ë¡œì›Œ ìˆ˜ (ë‹¨ìœ„: ë°±ë§Œëª…)</label>
                            <input type="number" class="form-control" id="snsFollowers" placeholder="SNS íŒ”ë¡œì›Œ ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                        </div>

                        <div class="form-group">
                            <label for="companyValue">ê¸°ì—… ê°€ì¹˜ (ë‹¨ìœ„: ë°±ì–µì›)</label>
                            <select class="form-control" id="companyValue">
                                <option value="1500-2500">1500-2500</option>
                                <option value="2500-3500">2500-3500</option>
                                <option value="3500-4500">3500-4500</option>
                                <option value="4500-6000">4500-6000</option>
                                <option value="6000ì´ìƒ">6000ì´ìƒ</option>
                            </select>
                        </div>

                        <button type="button" class="btn btn-success btn-block" id="downloadBtn1">ìƒ˜í”Œë°ì´í„° ë‹¤ìš´ë¡œë“œ</button>
                        <br>
                        <button type="button" class="btn btn-primary btn-block" id="prdBtn">ë¶„ì„ ì‹œì‘</button>
                        <div id="baseResult"></div>
                    </form>
                    <div class="mt-4" id="result"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="tab-pane fade" id="analysis" role="tabpanel" aria-labelledby="analysis-tab">
        <div class="container mt-5">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <h1 class="mb-3 text-center" style="font-size: 20px;">ì˜ˆì¸¡ í˜ì´ì§€ #2</h1>
                    <label>ì¤€ë¹„ì¤‘</label>
                    <div class="mt-4" id="result"></div>
                </div>
            </div>
        </div>
    </div>        
</div>                    


<script>
    // ìƒˆë¡œìš´ íƒ­ í´ë¦­ ì‹œ í•´ë‹¹ íƒ­ìœ¼ë¡œ ì´ë™í•˜ëŠ” í•¨ìˆ˜
    $(document).ready(function() {
        $('#new-tab').on('click', function (e) {
            e.preventDefault()
            $(this).tab('show')
        })
    });

</script>


<script>
    document.getElementById('downloadBtn1').addEventListener('click', function() {
        var link = document.createElement("a");
        link.href = "/datas/train_data_example.xlsx"; // ë‹¤ìš´ë¡œë“œí•  íŒŒì¼ì˜ ê²½ë¡œ
        link.download = "train_data_example.xlsx"; // ë‹¤ìš´ë¡œë“œë  íŒŒì¼ì˜ ì´ë¦„
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    });
</script>


<script>
    // config.json íŒŒì¼ ë¡œë“œ
    // var newHostname = "43.203.203.147";
    // var newPort = "9999"
    // var urlBase = `http://${newHostname}:${newPort}`;
    //ngrok ì‚¬ìš© ì‹œ
    urlBase = 'https://fd87-34-86-4-172.ngrok-free.app';
    // urlBase = 'https://5364-34-59-217-120.ngrok-free.app';

    let urlFullBase = urlBase+"/predictBase";

    // íšŒì‚¬ ê°€ì¹˜ ë²”ìœ„ë¥¼ ìˆ«ìë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
    function convertCompanyValue(value) {
        const valueMap = {
            '1500-2500': 2000.0,
            '2500-3500': 3000.0,
            '3500-4500': 4000.0,
            '4500-6000': 5250.0,
            '6000ì´ìƒ': 6000.0
        };
        return valueMap[value] || 0;
    }

    // Yes/Noë¥¼ 1/0ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
    function convertYesNo(value) {
        return value === 'Yes' ? 1 : 0;
    }

    // íˆ¬ì ë‹¨ê³„ë¥¼ ë¡œê·¸ ìŠ¤ì¼€ì¼ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
    function convertInvestmentStage(value) {
        const investmentMap = {
            'Seed': 5,
            'Series A': 50,
            'Series B': 175,
            'Series C': 500,
            'IPO': 2000
        };
        return Math.log(investmentMap[value] || 1);
    }

    // ë¶„ì„ì‹œì‘ ë²„íŠ¼ í´ë¦­ ì‹œ ë¶„ì„ì„œë²„ì™€ ì—°ê³„ ì½”ë“œ
    $("#prdBtn").click(function(){
        let reqDataBase = {
            'Founded_Year': Number($("#foundedYear").val()),
            'Country': $("#country").val(),
            'Industry': $("#industry").val(),
            'Investment_Stage': convertInvestmentStage($("#investmentStage").val()),
            'Employees': Number($("#employees").val()),
            'Acquired_Status': convertYesNo($("#acquiredStatus").val()),
            'IPO_Status': convertYesNo($("#ipoStatus").val()),
            'Customers': Number($("#customers").val()),
            'Total_Investment': Number($("#totalInvestment").val()),
            'Annual_Revenue': Number($("#annualRevenue").val()),
            'SNS_Followers': Number($("#snsFollowers").val()),
            'Company_Value': convertCompanyValue($("#companyValue").val())
        };
 
        const headersBase = {
            "Content-Type": "application/json",
            'ngrok-skip-browser-warning': '69420', 
        };

        const dataBase = JSON.stringify(reqDataBase);
        console.log(dataBase);

        $.ajax({
            url: urlFullBase,
            headers: headersBase,
            data: dataBase,
            method: 'POST',
            success: function(data) {
                console.log(data);
                let result = data.predictValue > 1 ? 1 : data.predictValue;
                $("#baseResult").html(`<div class="alert alert-success">ì˜ˆì¸¡ ê²°ê³¼: ${result}</div>`);
            },
            error: function(error) {
                console.error(error);
                $("#baseResult").html(`<div class="alert alert-danger">ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</div>`);
            }
        });
    });
</script>
  </body>
</html>
